<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- ‚úÖ fix l·ªói hi·ªÉn th·ªã nh·ªè -->
  <title>Group 3 üëë</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #fde4f2, #d6e4f9);
    }
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background: linear-gradient(to right, #fde4f2, #d6e4f9);
    }
    .logo {
      font-weight: bold;
      font-size: 20px;
    }
    .search-box {
      position: relative;
    }
    .search-box input {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 200px;
      background-color: #b6f7b0;
    }
    .suggestions {
      position: absolute;
      top: 35px;
      left: 0;
      background: white;
      border: 1px solid #ccc;
      width: 100%;
      display: none;
      z-index: 10;
    }
    .suggestions div {
      padding: 5px;
      cursor: pointer;
      border-bottom: 1px solid #ddd;
      background-color: #f9f9f9;
      transition: background 0.3s;
    }
    .suggestions div:hover {
      background-color: #d0f0c0;
    }
    .menu-toggle {
      font-size: 24px;
      cursor: pointer;
    }
    .divider {
      height: 8px;
      background: white;
      margin: 0;
    }
    .menu {
      display: none;
      text-align: center;
      padding: 10px;
    }
    .menu button {
      margin: 5px;
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      background-color: #fcb1d1;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    .menu button:hover {
      background-color: #f88fb0;
    }
    .section {
      display: none;
      padding: 20px;
    }
    .section.active {
      display: block;
    }
    .admin-tools input, .admin-tools textarea {
      display: block;
      margin: 5px auto;
      padding: 8px;
      width: 300px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .admin-tools button {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      background: #a1c4fd;
      cursor: pointer;
    }
    .notice-item, .text-item, .image-item {
      background: #fff;
      margin: 5px auto;
      padding: 10px;
      width: 80%;
      border-radius: 8px;
      cursor: pointer;
    }
    #loginArea {
      text-align: center;
      padding: 20px;
    }
    #loginArea input {
      margin: 5px;
      padding: 8px;
      width: 200px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    #loginArea button {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      background: #fcb1d1;
      cursor: pointer;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    #imageOverlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #imageOverlay img {
      max-width: 90%;
      max-height: 90%;
    }
    #imageOverlay span {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 30px;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="loginArea">
  <h2>ƒêƒÉng nh·∫≠p h·ªá th·ªëng nh√≥m 3 üëë</h2>
  <button onclick="showForm('member')">T√¥i l√† th√†nh vi√™n</button>
  <button onclick="showForm('admin')">T√¥i l√† admin</button>

  <div id="memberForm" style="display:none;">
    <input type="text" id="memberName" placeholder="T√™n th√†nh vi√™n">
    <button onclick="loginMember()">ƒêƒÉng nh·∫≠p</button>
    <div id="errorMember" class="error"></div>
  </div>

  <div id="adminForm" style="display:none;">
    <input type="text" id="adminName" placeholder="T√™n admin">
    <input type="password" id="adminPass" placeholder="M·∫≠t kh·∫©u">
    <button onclick="loginAdmin()">ƒêƒÉng nh·∫≠p</button>
    <div id="errorAdmin" class="error"></div>
  </div>
</div>

<div id="mainContent" style="display:none;">
  <div class="header">
    <div class="logo">Group 3 üëë</div>
    <div class="search-box">
      <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm...">
      <div class="suggestions" id="suggestionsBox"></div>
    </div>
    <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
  </div>

  <div class="divider"></div>

  <div class="menu" id="menuBar">
    <button onclick="showSection('home')">Trang Ch·ªß</button>
    <button onclick="showSection('notice')">Th√¥ng B√°o-Tr·∫£ B√†i-So·∫°n B√†i</button>
    <button onclick="showSection('schedule')">Th·ªùi Kho√° Bi·ªÉu</button>
    <button onclick="showSection('study')">Th·ªùi Gian H·ªçc</button>
    <button onclick="showSection('account')">T√†i Kho·∫£n</button>
  </div>

  <div id="home" class="section active">
    <h2>Trang Ch·ªß</h2>
    <p>Ch√†o m·ª´ng ƒë·∫øn v·ªõi website c·ªßa nh√≥m 3! üëë</p>
  </div>

  <div id="notice" class="section">
    <h2>Th√¥ng B√°o-Tr·∫£ B√†i-So·∫°n B√†i</h2>
    <div id="noticeList"></div>
    <div class="admin-tools" id="adminNotice" style="display:none;">
      <input type="text" id="timeInput" placeholder="Th·ªùi gian ƒëƒÉng">
      <input type="text" id="dateInput" placeholder="Th·ª©, ng√†y, th√°ng">
      <textarea id="contentInput" rows="4" placeholder="N·ªôi dung th√¥ng b√°o..."></textarea>
      <button onclick="addNotice()">ƒêƒÉng th√¥ng b√°o</button>
    </div>
  </div>

  <div id="schedule" class="section">
    <h2>Th·ªùi Kho√° Bi·ªÉu</h2>
    <div id="imageList"></div>
    <div class="admin-tools" id="adminImage" style="display:none;">
      <input type="file" id="imageUpload" accept="image/*">
      <button onclick="uploadImage()">ƒêƒÉng ·∫£nh</button>
    </div>
  </div>

  <div id="study" class="section">
    <h2>Th·ªùi Gian H·ªçc</h2>
    <div id="textList"></div>
    <div class="admin-tools" id="adminText" style="display:none;">
      <textarea id="textInput" rows="4" placeholder="Nh·∫≠p n·ªôi dung h·ªçc t·∫≠p..."></textarea>
      <button onclick="submitText()">G·ª≠i</button>
    </div>
  </div>

  <div id="account" class="section">
    <h2>T√†i Kho·∫£n</h2>
    <p>Th√¥ng tin t√†i kho·∫£n c·ªßa b·∫°n s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y.</p>
  </div>
</div>

<div id="imageOverlay">
  <span onclick="closeOverlay()">√ó</span>
  <img id="overlayImg" src="">
</div>

<script>
const members = [
  "h·ªì h·∫£i ƒëƒÉng", "hu·ªá", "m·ªπ linh", "nh∆∞ qu·ª≥nh",
  "nh∆∞ √Ω", "truc phuong", "nh√£ qu·ª≥nh", "th√∫y an", "tu·∫•n anh"
];

function showForm(role) {
  document.getElementById("memberForm").style.display = role === "member" ? "block" : "none";
  document.getElementById("adminForm").style.display = role === "admin" ? "block" : "none";
}

function loginMember() {
  const name = document.getElementById("memberName").value.trim().toLowerCase();
  if (members.includes(name)) {
    localStorage.setItem("role", "member");
    localStorage.setItem("username", name);
    showMain();
  } else {
    document.getElementById("errorMember").textContent = "T√™n kh√¥ng t·ªìn t·∫°i trong nh√≥m!";
  }
}

function loginAdmin() {
  const name = document.getElementById("adminName").value.trim().toLowerCase();
  const pass = document.getElementById("adminPass").value;
  if (name === "tu·∫•n anh" && pass === "!zxcvbnm..") {
    localStorage.setItem("role", "admin");
    localStorage.setItem("username", name);
    showMain();
  } else {
    document.getElementById("errorAdmin").textContent = "Sai t√™n ho·∫∑c m·∫≠t kh·∫©u!";
  }
}

function showMain() {
  document.getElementById("loginArea").style.display = "none";
  document.getElementById("mainContent").style.display = "block";

  const role = localStorage.getItem("role");
  if (role === "admin") {
    document.getElementById("adminNotice").style.display = "block";
    document.getElementById("adminImage").style.display = "block";
    document.getElementById("adminText").style.display = "block";
  }

  renderNotices();
  renderImages();
  renderTexts();
}

function toggleMenu() {
  const menu = document.getElementById("menuBar");
  menu.style.display = menu.style.display === "none" ? "block" : "none";
}

function showSection(id) {
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

document.getElementById("searchInput").addEventListener("input", function() {
  const val = this.value.trim().toLowerCase();
  const box = document.getElementById("suggestionsBox");
  box.innerHTML = "";
  const suggestions = ["Trang Ch·ªß", "Th√¥ng B√°o-Tr·∫£ B√†i-So·∫°n B√†i", "Th·ªùi Kho√° Bi·ªÉu", "Th·ªùi Gian H·ªçc", "T√†i Kho·∫£n"];
  if (val.startsWith("t")) {
    suggestions.forEach(item => {
      if (item.toLowerCase().startsWith("t")) {
        const div = document.createElement("div");
        div.textContent = item;
        div.onclick = () => {
          document.getElementById("searchInput").value = item;
          box.style.display = "none";
        };
        box.appendChild(div);
      }
    });
    box.style.display = "block";
  } else {
    box.style.display = "none";
  }
});

function addNotice() {
  const time = document.getElementById("timeInput").value.trim();
  const date = document.getElementById("dateInput").value.trim();
  const content = document.getElementById("contentInput").value.trim();
  if (!time || !date || !content) return;

  const notice = `${time} - ${date}: ${content}`;
  let list = JSON.parse(localStorage.getItem("notices")) || [];
  list.push(notice);
  localStorage.setItem("notices", JSON.stringify(list));
  renderNotices();
  document.getElementById("timeInput").value = "";
  document.getElementById("dateInput").value = "";
  document.getElementById("contentInput").value = "";
}

function renderNotices() {
  const container = document.getElementById("noticeList");
  container.innerHTML = "";
  const list = JSON.parse(localStorage.getItem("notices")) || [];
  list.forEach((text, index) => {
    const div = document.createElement("div");
    div.className = "notice-item";
    div.textContent = text;
    div.onclick = () => {
      list.splice(index, 1);
      localStorage.setItem("notices", JSON.stringify(list));
      renderNotices();
    };
    container.appendChild(div);
  });
}

function uploadImage() {
  const file = document.getElementById("imageUpload").files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = function(e) {
    let imgs = JSON.parse(localStorage.getItem("images")) || [];
    imgs.push(e.target.result);
    localStorage.setItem("images", JSON.stringify(imgs));
    renderImages();
  };
  reader.readAsDataURL(file);
}

function renderImages() {
  const container = document.getElementById("imageList");
  container.innerHTML = "";
  const imgs = JSON.parse(localStorage.getItem("images")) || [];
  imgs.forEach((src, index) => {
    const img = document.createElement("img");
    img.src = src;
    img.style.maxWidth = "300px";
    img.style.margin = "10px";
    img.className = "image-item";
    img.onclick = () => {
      document.getElementById("overlayImg").src = src;
      document.getElementById("imageOverlay").style.display = "flex";
    };
    container.appendChild(img);
  });
}

function closeOverlay() {
  document.getElementById("imageOverlay").style.display = "none";
}

function submitText() {
  const text = document.getElementById("textInput").value.trim();
  if (!text) return;
  let texts = JSON.parse(localStorage.getItem("texts")) || [];
  texts.push(text);
  localStorage.setItem("texts", JSON.stringify(texts));
  renderTexts();
  document.getElementById("textInput").value = "";
}

function renderTexts() {
  const container = document.getElementById("textList");
  container.innerHTML = "";
  const texts = JSON.parse(localStorage.getItem("texts")) || [];
  texts.forEach((t, index) => {
    const p = document.createElement("div");
    p.className = "text-item";
    p.textContent = t;
    p.onclick = () => {
      texts.splice(index, 1);
      localStorage.setItem("texts", JSON.stringify(texts));
      renderTexts();
    };
    container.appendChild(p);
  });
}
</script>
</body>
</html>
